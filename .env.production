# =============================================================================
# 프로덕션 환경 설정 (MSA 배포용)
# 사용법: cp .env.production .env 후 수정
# =============================================================================
ENVIRONMENT=production

# =============================================================================
# 데이터베이스 설정
# ⚠️ 반드시 강력한 비밀번호로 변경하세요!
# =============================================================================
POSTGRES_DB=jwt_demo_db
POSTGRES_USER=jwt_admin
POSTGRES_PASSWORD=CHANGE_THIS_TO_STRONG_PASSWORD_IN_PRODUCTION
# 프로덕션: 별도 DB 서버 또는 RDS 엔드포인트
POSTGRES_HOST=your-db-server.com
POSTGRES_PORT=5432

# =============================================================================
# 백엔드 서비스 위치 (MSA 관점)
# 시나리오 선택:
# 1. 모두 동일 서버 (Docker Compose) - 컨테이너 이름 사용
# 2. 서비스별 독립 서버 - 도메인 또는 IP 사용
# 3. Kubernetes/ECS - Service Discovery 이름 사용
# =============================================================================

## 시나리오 1: 단일 서버 Docker Compose
BACKEND_AUTH_HOST=backend-auth
BACKEND_AUTH_INTERNAL_PORT=8000
BACKEND_API_HOST=backend-api
BACKEND_API_INTERNAL_PORT=8001
FRONTEND_HOST=frontend
FRONTEND_INTERNAL_PORT=80

## 시나리오 2: 서비스별 독립 도메인 (MSA 완전 분리)
# BACKEND_AUTH_HOST=auth.yourdomain.com
# BACKEND_AUTH_INTERNAL_PORT=443
# BACKEND_API_HOST=api.yourdomain.com
# BACKEND_API_INTERNAL_PORT=443
# FRONTEND_HOST=app.yourdomain.com
# FRONTEND_INTERNAL_PORT=443

## 시나리오 3: 내부 네트워크 IP (AWS VPC, Azure VNet 등)
# BACKEND_AUTH_HOST=10.0.1.101
# BACKEND_AUTH_INTERNAL_PORT=8000
# BACKEND_API_HOST=10.0.1.102
# BACKEND_API_INTERNAL_PORT=8000
# FRONTEND_HOST=10.0.1.103
# FRONTEND_INTERNAL_PORT=80

# =============================================================================
# 게이트웨이 포트
# =============================================================================
NGINX_PORT=80
NGINX_SSL_PORT=443

# =============================================================================
# 디버깅 포트 (프로덕션에서는 제거)
# =============================================================================
# BACKEND_AUTH_PORT=
# BACKEND_API_PORT=

# =============================================================================
# JWT 설정
# ⚠️ 반드시 새로운 시크릿 키로 변경하세요!
# 생성: python -c "import secrets; print(secrets.token_urlsafe(32))"
# =============================================================================
JWT_SECRET_KEY=CHANGE_THIS_TO_RANDOM_SECRET_KEY
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30

# =============================================================================
# Django 설정
# ⚠️ 반드시 설정을 변경하세요!
# =============================================================================
DJANGO_SECRET_KEY=CHANGE_THIS_TO_DJANGO_SECRET_KEY
DJANGO_DEBUG=False
DJANGO_ALLOWED_HOSTS=yourdomain.com,www.yourdomain.com

# =============================================================================
# CORS 설정
# ⚠️ 본인 도메인만 허용하도록 변경하세요!
# =============================================================================
CORS_ALLOWED_ORIGINS=https://yourdomain.com,https://www.yourdomain.com

# =============================================================================
# 도메인 설정
# =============================================================================
DOMAIN=yourdomain.com

# =============================================================================
# API URL 설정 (프론트엔드용)
# nginx 리버스 프록시를 통해 접근
# =============================================================================
VITE_API_AUTH_URL=/api/auth
VITE_API_MEMOS_URL=/api/memos

# =============================================================================
# Database URL
# =============================================================================
DATABASE_URL=postgresql://jwt_admin:CHANGE_THIS_TO_STRONG_PASSWORD_IN_PRODUCTION@db:5432/jwt_demo_db

# =============================================================================
# SSL/TLS 설정 (Let's Encrypt)
# =============================================================================
# LETSENCRYPT_EMAIL=your-email@example.com
# CERTBOT_DOMAIN=yourdomain.com
