# =============================================================================
# 환경 설정
# =============================================================================
ENVIRONMENT=development

# =============================================================================
# 데이터베이스 설정
# 개발: localhost 또는 컨테이너 이름
# 프로덕션: 별도 DB 서버 URL/IP
# =============================================================================
POSTGRES_DB=jwt_demo_db
POSTGRES_USER=jwt_admin
POSTGRES_PASSWORD=jwt_secure_password_123
# 개발: Docker Compose 내부 네트워크
POSTGRES_HOST=db
POSTGRES_PORT=5432
# 프로덕션 예시:
# POSTGRES_HOST=db.yourdomain.com
# POSTGRES_HOST=10.0.1.100

# =============================================================================
# 백엔드 서비스 위치 (MSA 관점 - nginx upstream용)
# 개발: Docker Compose 내부 네트워크 (컨테이너 이름)
# 프로덕션: 실제 서버 도메인/IP
# =============================================================================

## 개발 환경 (Docker Compose)
BACKEND_AUTH_HOST=backend-auth
BACKEND_AUTH_INTERNAL_PORT=8000
BACKEND_API_HOST=backend-api
BACKEND_API_INTERNAL_PORT=8001
FRONTEND_HOST=frontend
FRONTEND_INTERNAL_PORT=80

## 프로덕션 환경 예시 1: 서비스별 도메인
# BACKEND_AUTH_HOST=auth.yourdomain.com
# BACKEND_AUTH_INTERNAL_PORT=443
# BACKEND_API_HOST=api.yourdomain.com
# BACKEND_API_INTERNAL_PORT=443
# FRONTEND_HOST=frontend.yourdomain.com
# FRONTEND_INTERNAL_PORT=443

## 프로덕션 환경 예시 2: 내부 IP (같은 VPC/네트워크)
# BACKEND_AUTH_HOST=10.0.1.101
# BACKEND_AUTH_INTERNAL_PORT=8000
# BACKEND_API_HOST=10.0.1.102
# BACKEND_API_INTERNAL_PORT=8000
# FRONTEND_HOST=10.0.1.103
# FRONTEND_INTERNAL_PORT=80

# =============================================================================
# 디버깅용 포트 노출 (개발 환경만)
# 프로덕션에서는 제거하거나 주석 처리
# =============================================================================
BACKEND_AUTH_PORT=8000
BACKEND_API_PORT=8001

# =============================================================================
# 게이트웨이/로드밸런서 포트
# =============================================================================
NGINX_PORT=80
NGINX_SSL_PORT=443

# =============================================================================
# JWT 설정 (모든 백엔드 서비스가 공유)
# =============================================================================
JWT_SECRET_KEY=your-secret-key-change-in-production
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30

# =============================================================================
# Django 설정
# =============================================================================
DJANGO_SECRET_KEY=django-insecure-change-this-in-production-67890
DJANGO_DEBUG=True
DJANGO_ALLOWED_HOSTS=localhost,127.0.0.1,backend-auth,nginx

# =============================================================================
# CORS 설정
# =============================================================================
CORS_ALLOWED_ORIGINS=*

# =============================================================================
# 프론트엔드 API 엔드포인트
# 클라이언트(브라우저)가 접근하는 URL
# =============================================================================
# 개발/프로덕션: nginx 게이트웨이를 통한 접근 (상대 경로)
VITE_API_AUTH_URL=/api/auth
VITE_API_MEMOS_URL=/api/memos

# 프로덕션 MSA (서비스별 도메인 사용 시)
# VITE_API_AUTH_URL=https://auth.yourdomain.com/api/auth
# VITE_API_MEMOS_URL=https://api.yourdomain.com/api/memos

# =============================================================================
# Database URL
# =============================================================================
DATABASE_URL=postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/${POSTGRES_DB}
